<?xml version="1.0" encoding="UTF-8"?>
<!doctype html>
<html>
	<head>
		<style type="text/css">
			h2 {
				font: -apple-system-headline;
			}
			body {
				font: -apple-system-body;
				zoom: 1.2;
			}
			img {
				width: auto;
				height : auto;
				max-height: 100%;
				max-width: 100%;
			}
		</style>
	</head>
	<body>
		<h2>Changing Xcode Header Comment</h2>
		<p>Have you ever wanted to change the standard header comment that Xcode automatically puts at the top of ever new source file you add to a project? Maybe you just don’t like the default or need to include your own copyright or license text. Xcode 9 added a <code>FILEHEADER</code> text macro to allow you to do just that.</p> 
 
<p></p> 
 
<h3>FILEHEADER Text Macro</h3> 
 
<p>When you add a new source file to Xcode 9 it expands the contents of the <code>FILEHEADER</code> text macro. The default value of this macro gives you the standard file header comment:</p> 
 
<pre><code>//  ___FILENAME___ 
//  ___PACKAGENAME___ 
// 
//  Created by ___FULLUSERNAME___ on ___DATE___. 
//  ___COPYRIGHT___ 
// 
</code></pre> 
 
<p>You can include any Xcode text macro in the <code>FILEHEADER</code> by adding three leading and trailing underscores (<code>_</code>). The full list of possible text macros is in the <a href="https://help.apple.com/xcode/mac/9.0/index.html?localePath=en.lproj#/dev7fe737ce0">Xcode help guide</a> (or see <code>Help &gt; Xcode Help</code> in Xcode).</p> 
 
<p>To use a different format for new files:</p> 
 
<ol><li>Create a <code>plist</code> file named <code>IDETemplateMacros.plist</code>.</li> 
<li>Add an entry in the <code>plist</code> file for the <code>FILEHEADER</code> macro with your format.</li> 
<li>Move the <code>plist</code> file into the right location.</li> 
</ol><h3>Creating The Text Macro File</h3> 
 
<p>Creating the plist file can be a pain with Xcode. I find the easiest way, if you do not have a separate plist editor, is as follows:</p> 
 
<ol><li>Open Xcode but do not have any open projects. Close any projects that are open.</li> 
<li>Use <code>File &gt; New File... (⌘N)</code> and choose <code>Property List</code> from the file templates.</li> 
<li>Name the file <code>IDETemplateMacros.plist</code> and save it to a temporary location.</li> 
<li>Add a new entry to the Root dictionary named <code>FILEHEADER</code> and enter the new format in the value field.</li> 
<li>Save the file once you have finished editing.</li> 
</ol><p><img src="https://useyourloaf.com/assets/images/2017/2017-12-18-001.png" alt="Text Macro plist"></p> 
 
<p>Note: You may find it easier to type your new format into a text editor and then copy and paste into the <code>plist</code> file (step 4).</p> 
 
<h3>Format Examples</h3> 
 
<p><strong>A single line showing the default copyright:</strong></p> 
 
<pre><code> ___COPYRIGHT___ 
</code></pre> 
 
<p>Note that there is a leading space but you do not include the <code>//</code> for the comment on the file line.</p> 
 
<p><strong>A two line header showing creation date and copyright:</strong></p> 
 
<pre><code> Created ___DATE___ 
// ___COPYRIGHT___ 
</code></pre> 
 
<p><strong>A header with some project and toolchain details:</strong></p> 
 
<pre><code> Created for ___PROJECTNAME___ in ___YEAR___ 
// Using Swift ___DEFAULTTOOLCHAINSWIFTVERSION___ 
// Running on macOS ___RUNNINGMACOSVERSION___ 
</code></pre> 
 
<p>I am not sure how useful it is but for a project named <code>TextMacros</code> this gives me:</p> 
 
<pre><code>// Created for TextMacros in 2017 
// Using Swift 4.0 
// Running on macOS 10.13 
</code></pre> 
 
<p>It may be a bug or a feature but I also noticed that changing the <code>FILEHEADER</code> macro has no effect on <code>.strings</code> files.</p> 
 
<h3>Text Macro File Locations</h3> 
 
<p>Once you have your new text macro file move it to the right location. You can override the text macros globally, or for an individual workspace or project. You can also decide to keep the macros for a single user or share it for all users.</p> 
 
<p>The full list of locations that Xcode searches, in order of priority:</p> 
 
<h4>Project - single user</h4> 
 
<pre><code>&lt;ProjectName&gt;.xcodeproj/xcuserdata/[username].xcuserdatad/ 
</code></pre> 
 
<h4>Project - shared by all users</h4> 
 
<pre><code>&lt;ProjectName&gt;.xcodeproj/xcshareddata/ 
</code></pre> 
 
<h4>Workspace - single user</h4> 
 
<pre><code>&lt;WorkspaceName&gt;.xcworkspace/xcuserdata/[username].xcuserdatad/ 
</code></pre> 
 
<h4>Workspace - shared by all users</h4> 
 
<pre><code>&lt;WorkspaceName&gt;.xcworkspace/xcshareddata/ 
</code></pre> 
 
<h4>Globally for Xcode</h4> 
 
<pre><code>~/Library/Developer/Xcode/UserData/ 
</code></pre> 
 
<p>So you might create a default <code>IDETemplateMacros.plist</code> in <code>~/Library/Developer/Xcode/UserData/</code> and then override it with a project specific template created at the workspace or project level.</p> 
 
<p>Note: You may need to create the <code>xcshareddata</code> folder if it does not already exist. I find that easiest to do from the command line but if you are using <code>Finder</code> then right-click on the <code>xcodeproj</code> or the <code>xcworkspace</code> file and use <code>Show Package Contents</code> to navigate.</p><hr><p> 
<a href="https://useyourloaf.com/blog/changing-xcode-header-comment/">Changing Xcode Header Comment</a> was originally posted 18 Dec 2017 on <a href="https://useyourloaf.com">useyourloaf.com</a>. 
</p> 
<p>Want this direct to your inbox? <a href="https://useyourloaf.com/newsletter">Sign up</a> and get my free iOS Size Classes guide. 
</p> 
<hr>
	</body>
</html>
